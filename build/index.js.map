{"version":3,"sources":["../src/index.js"],"names":["hostname","port","server","createServer","req","res","parsedUrl","parse","url","pathname","query","start","Promise","all","then","console","log","data","listen","i"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AACA;;;;AAEA,IAAMA,WAAW,WAAjB;AACA,IAAMC,OAAO,IAAb;;AAEA,IAAMC,SAAS,eAAKC,YAAL,CAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7C,MAAIC,YAAY,cAAIC,KAAJ,CAAUH,IAAII,GAAd,EAAmB,IAAnB,CAAhB;AACA,MAAIF,UAAUG,QAAV,IAAsB,MAAtB,IAAgCH,UAAUI,KAAV,CAAgBF,GAApD,EAAyD;AACvDG,UAAML,SAAN;AACD;AACF,CALc,CAAf;;AAOA,IAAMK,QAAQ,SAARA,KAAQ,CAACL,SAAD;AAAA,SAAeM,QAAQC,GAAR,CAAY,CACvC,4BAAcP,UAAUI,KAAV,CAAgBF,GAA9B,CADuC,EAEvC,6BAAaF,UAAUI,KAAV,CAAgBF,GAA7B,CAFuC,CAAZ,EAG1BM,IAH0B,CAGrB,gBAAQ;AACdC,YAAQC,GAAR,CAAYC,IAAZ;AACD,GAL4B,CAAf;AAAA,CAAd;;AAOAN,MAAM;AACJD,SAAO;AACLF,SAAK;AADA;AADH,CAAN;;AAMAN,OAAOgB,MAAP,CAAcjB,IAAd,EAAoBD,QAApB,EAA8B,YAAM;AAClCe,UAAQC,GAAR,+BAAwChB,QAAxC,SAAoDC,IAApD;AACA,OAAK,IAAIkB,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3BJ,YAAQC,GAAR,CAAY,WAAZ;AACD;AACF,CALD","file":"index.js","sourcesContent":["import http from 'http';\nimport url from 'url';\nimport { startCrawling } from './crawler';\nimport { startLoading } from './nightmare';\n\nconst hostname = '127.0.0.1';\nconst port = 3000;\n\nconst server = http.createServer((req, res) => {\n  let parsedUrl = url.parse(req.url, true);\n  if (parsedUrl.pathname == '/API' && parsedUrl.query.url) {\n    start(parsedUrl)\n  }\n});\n\nconst start = (parsedUrl) => Promise.all([\n  startCrawling(parsedUrl.query.url),\n  startLoading(parsedUrl.query.url)\n]).then(data => {\n  console.log(data)\n})\n\nstart({\n  query: {\n    url: 'http://www.lunametrics.com/blog/2017/02/02/unlimited-data-studio-reports/'\n  }\n})\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`);\n  for (var i = 0; i < 10; i++) {\n    console.log('---------')\n  }\n});\n"]}