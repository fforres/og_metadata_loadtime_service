{"version":3,"sources":["../src/index.js"],"names":["hostname","port","server","createServer","req","res","parsedUrl","parse","url","pathname","query","start","then","console","log","data","Promise","all","listen","i"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AACA;;;;AAEA,IAAMA,WAAW,WAAjB;AACA,IAAMC,OAAO,IAAb;;AAEA,IAAMC,SAAS,eAAKC,YAAL,CAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7C,MAAIC,YAAY,cAAIC,KAAJ,CAAUH,IAAII,GAAd,EAAmB,IAAnB,CAAhB;AACA,MAAIF,UAAUG,QAAV,IAAsB,MAAtB,IAAgCH,UAAUI,KAAV,CAAgBF,GAApD,EAAyD;AACvDG,UAAML,SAAN,EACGM,IADH,CACQ,gBAAQ;AACZC,cAAQC,GAAR,CAAYC,IAAZ;AACD,KAHH;AAKD;AACF,CATc,CAAf;;AAWA,IAAMJ,QAAQ,SAARA,KAAQ,CAACL,SAAD;AAAA,SAAeU,QAAQC,GAAR,CAAY,CACvC,4BAAcX,UAAUI,KAAV,CAAgBF,GAA9B,CADuC,EAEvC,6BAAaF,UAAUI,KAAV,CAAgBF,GAA7B,CAFuC,CAAZ,EAG1BI,IAH0B,CAGrB,gBAAQ;AACdC,YAAQC,GAAR,CAAYC,IAAZ;AACD,GAL4B,CAAf;AAAA,CAAd;;AAOAb,OAAOgB,MAAP,CAAcjB,IAAd,EAAoBD,QAApB,EAA8B,YAAM;AAClCa,UAAQC,GAAR,+BAAwCd,QAAxC,SAAoDC,IAApD;AACA,OAAK,IAAIkB,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3BN,YAAQC,GAAR,CAAY,WAAZ;AACD;AACF,CALD","file":"index.js","sourcesContent":["import http from 'http';\nimport url from 'url';\nimport { startCrawling } from './crawler';\nimport { startLoading } from './nightmare';\n\nconst hostname = '127.0.0.1';\nconst port = 3000;\n\nconst server = http.createServer((req, res) => {\n  let parsedUrl = url.parse(req.url, true);\n  if (parsedUrl.pathname == '/API' && parsedUrl.query.url) {\n    start(parsedUrl)\n      .then(data => {\n        console.log(data)\n      })\n\n  }\n});\n\nconst start = (parsedUrl) => Promise.all([\n  startCrawling(parsedUrl.query.url),\n  startLoading(parsedUrl.query.url)\n]).then(data => {\n  console.log(data)\n})\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`);\n  for (var i = 0; i < 10; i++) {\n    console.log('---------')\n  }\n});\n"]}